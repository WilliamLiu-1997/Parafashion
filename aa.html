<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>文件上传</title>
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
	<style>
		body,
		html {
			margin: 0 auto;
		}

		.tip {
			height: 100%;
			width: 100%;
			font-size: 12px;
			font-weight: bold;
			color: gray;
		}

		.up-area {
			border: 2px dashed #ccc;
			width: 200px;
			min-height: 100px;
			line-height: 100px;
			background-color: #fff;
		}

		img {
			width: 100%;
		}
	</style>
</head>

<body>


	<div class="texture_container">
		<!-- 拖拽图片到这来 -->
		<div class="dragFile">
			<div class="up-area">
				<input type="file" style="display:none;" id="fileDrag" name="fileDragselect" multiple>
				<div class="list-drag">
				</div>
			</div>
			<div class="tip">Click or Drag to upload a texture...</div>
		</div>
	</div>



	<script type="text/javascript">
		var url = ""
		document.querySelector('.up-area').addEventListener('click', texture_click)
		function texture_click() {
			$('#fileDrag').click();
		}
		$('#fileDrag').change((event) => {
			var files = event.target.files;
			appendFile(files, '.list-drag');
		})


		const dragbox = document.querySelector('.dragFile');
		dragbox.addEventListener('dragover', function (e) {
			e.preventDefault();
		}, false);
		dragbox.addEventListener('drop', function (e) {
			e.preventDefault();
			var files = e.dataTransfer.files;
			appendFile(files, '.list-drag')
		}, false);

		function appendFile(files, listName) {
			for (file of files) {
				url = window.URL.createObjectURL(file);
				let liStr = `<img src="${url}" alt="文件" />`;
				$(listName).html(liStr);
			}
		}
	</script>

</body>

</html>